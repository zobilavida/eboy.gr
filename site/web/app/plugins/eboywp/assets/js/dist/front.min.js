!function(){"use strict";var e,o;(e=window).wp=e.wp||{},e.wp.hooks=e.wp.hooks||new function(){function e(e,o,t,a){var n,r,i;if(s[e][o])if(t)if(n=s[e][o],a)for(i=n.length;i--;)(r=n[i]).callback===t&&r.context===a&&n.splice(i,1);else for(i=n.length;i--;)n[i].callback===t&&n.splice(i,1);else s[e][o]=[]}function o(e,o,t,a,n){var r={callback:t,priority:a,context:n},i=s[e][o];i?(i.push(r),i=function(e){for(var o,t,a,n=1,s=e.length;n<s;n++){for(o=e[n],t=n;(a=e[t-1])&&a.priority>o.priority;)e[t]=e[t-1],--t;e[t]=o}return e}(i)):i=[r],s[e][o]=i}function t(e,o,t){var a,n,r=s[e][o];if(!r)return"filters"===e&&t[0];if(n=r.length,"filters"===e)for(a=0;a<n;a++)t[0]=r[a].callback.apply(r[a].context,t);else for(a=0;a<n;a++)r[a].callback.apply(r[a].context,t);return"filters"!==e||t[0]}var a=Array.prototype.slice,n={removeFilter:function(o,t){return"string"==typeof o&&e("filters",o,t),n},applyFilters:function(){var e=a.call(arguments),o=e.shift();return"string"==typeof o?t("filters",o,e):n},addFilter:function(e,t,a,s){return"string"==typeof e&&"function"==typeof t&&o("filters",e,t,a=parseInt(a||10,10),s),n},removeAction:function(o,t){return"string"==typeof o&&e("actions",o,t),n},doAction:function(){var e=a.call(arguments),o=e.shift();return"string"==typeof o&&t("actions",o,e),n},addAction:function(e,t,a,s){return"string"==typeof e&&"function"==typeof t&&o("actions",e,t,a=parseInt(a||10,10),s),n}},s={actions:{},filters:{}};return n},window.EWP=window.EWP||{},function(e){function o(e){return void 0!==e}var t={eboys:{},template:null,settings:{},is_reset:!1,is_refresh:!1,is_bfcache:!1,auto_refresh:!0,soft_refresh:!1,frozen_eboys:{},eboy_type:{},loaded:!1,jqXHR:!1,extras:{},helper:{},paged:1};for(var a in t)o(EWP[a])||(EWP[a]=t[a]);e(window).on("load",function(){setTimeout(function(){e(window).on("popstate",function(){EWP.is_bfcache&&(EWP.loaded=!1),!EWP.loaded&&!EWP.is_bfcache||EWP.is_refresh||(EWP.is_popstate=!0,EWP.refresh(),EWP.is_popstate=!1)})},0)}),EWP.helper.get_url_var=function(e){e=EWP_JSON.prefix+e;for(var o=EWP.build_query_string().split("&"),t=0;t<o.length;t++){var a=o[t].split("=");if(a[0]===e)return a[1]}return!1},EWP.helper.debounce=function(e,o){var t;return function(){var a=this,n=arguments;clearTimeout(t),t=setTimeout(function(){t=null,e.apply(a,n)},o)}},EWP.helper.serialize=function(e,t){var a=[];t=o(t)?t:"";for(var n in e)""!=e[n]&&a.push(t+encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return a.join("&")},EWP.helper.escape_html=function(e){var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return o[e]}).trim()},EWP.helper.detect_loop=function(e){for(var o=null,t=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,EWP.helper.node_filter,!1);o=t.nextNode();)if(8===o.nodeType&&"EWP-loop"===o.nodeValue)return o.parentNode;return!1},EWP.helper.node_filter=function(){return NodeFilter.FILTER_ACCEPT},EWP.autoload=function(){EWP.auto_refresh&&!EWP.is_refresh&&EWP.refresh()},EWP.refresh=function(){EWP.is_refresh=!0,EWP.is_reset||EWP.parse_eboys(),EWP.loaded||EWP.load_from_hash(),e(document).trigger("eboywp-refresh"),EWP.loaded&&!EWP.is_popstate&&EWP.set_hash(),EWP.loaded||EWP.is_bfcache||!o(EWP_JSON.preload_data)?EWP.fetch_data():EWP.render(EWP_JSON.preload_data),e.each(EWP.frozen_eboys,function(e,o){"hard"!==o&&delete EWP.frozen_eboys[e]}),EWP.paged=1,EWP.soft_refresh=!1,EWP.is_refresh=!1,EWP.is_reset=!1},EWP.parse_eboys=function(){EWP.eboys={},e(".eboywp-eboy").each(function(){var t=e(this),a=t.attr("data-name"),n=t.attr("data-type");EWP.eboy_type[a]=n,wp.hooks.doAction("eboywp/refresh/"+n,t,a);var s=!0;EWP.loaded&&(EWP.soft_refresh||o(EWP.frozen_eboys[a]))&&(s=!1),s&&EWP.loading_handler({element:t,eboy_name:a,eboy_type:n})}),1<EWP.paged&&(EWP.eboys.paged=EWP.paged),EWP.extras.per_page&&"default"!==EWP.extras.per_page&&(EWP.eboys.per_page=EWP.extras.per_page),EWP.extras.sort&&"default"!==EWP.extras.sort&&(EWP.eboys.sort=EWP.extras.sort)},EWP.loading_handler=function(o){if("fade"==EWP_JSON.loading_animation){if(!EWP.loaded){var t=o.element;e(document).on("eboywp-refresh",function(){t.prepend('<div class="eboywp-overlay">'),t.find(".eboywp-overlay").css({width:t.width(),height:t.height()})}),e(document).on("eboywp-loaded",function(){t.find(".eboywp-overlay").remove()})}}else""==EWP_JSON.loading_animation&&o.element.html('<div class="eboywp-loading"></div>')},EWP.build_query_string=function(){var o="",t=[],a=window.location.search.replace("?","").split("&");e.each(a,function(e,o){0!==o.split("=")[0].indexOf(EWP_JSON.prefix)&&t.push(o)}),t=t.join("&");var n=EWP.helper.serialize(EWP.eboys,EWP_JSON.prefix);return""!==t&&(o+=t),""!==n&&(o+=(""!==t?"&":"")+n),o},EWP.set_hash=function(){var e=EWP.build_query_string();""!==e&&(e="?"+e),history.pushState&&history.pushState(null,null,window.location.pathname+e),EWP_HTTP.get={},window.location.search.replace("?","").split("&").forEach(function(e){var o=e.split("=");EWP_HTTP.get[o[0]]=o[1]})},EWP.load_from_hash=function(){var t=[],a=window.location.search.replace("?","").split("&");e.each(a,function(e,o){0===o.split("=")[0].indexOf(EWP_JSON.prefix)&&t.push(o.replace(EWP_JSON.prefix,""))}),t=t.join("&"),e.each(EWP.eboys,function(e){EWP.eboys[e]=[]}),EWP.paged=1,EWP.extras.sort="default",""!==t&&(t=t.split("&"),e.each(t,function(e,t){var a=t.split("=")[0],n=t.split("=")[1];if("paged"===a)EWP.paged=n;else if("per_page"===a||"sort"===a)EWP.extras[a]=n;else if(""!==n){var s=o(EWP.eboy_type[a])?EWP.eboy_type[a]:"";EWP.eboys[a]="search"===s||"autocomplete"===s?decodeURIComponent(n):decodeURIComponent(n).split(",")}}))},EWP.build_post_data=function(){return{eboys:JSON.stringify(EWP.eboys),frozen_eboys:EWP.frozen_eboys,http_params:EWP_HTTP,template:EWP.template,extras:EWP.extras,soft_refresh:EWP.soft_refresh?1:0,is_bfcache:EWP.is_bfcache?1:0,first_load:EWP.loaded?0:1,paged:EWP.paged}},EWP.fetch_data=function(){EWP.jqXHR&&4!==EWP.jqXHR.readyState&&EWP.jqXHR.abort();var o="wp"===EWP.template?document.URL:EWP_JSON.ajaxurl,t={type:"POST",dataType:"text",data:{action:"eboywp_refresh",data:EWP.build_post_data()},success:function(o){try{var t=e.parseJSON(o);EWP.render(t)}catch(s){var a=o.indexOf('{"eboys');if(-1<a){var n=o.substr(0,a);t=e.parseJSON(o.substr(a));EWP.render(t),console.log(n)}else e(".eboywp-template").text("eboywp was unable to auto-detect the post listing"),console.log(o)}}};t=wp.hooks.applyFilters("eboywp/ajax_settings",t),EWP.jqXHR=e.ajax(o,t)},EWP.render=function(t){if("wp"!==EWP.template&&""!==t.template||EWP.loaded||EWP.is_bfcache){r=t.template;if("wp"===EWP.template){var a=e(t.template).find(".eboywp-template");if(1>a.length){var n=document.createElement("div");n.innerHTML=t.template;var s=EWP.helper.detect_loop(n);s&&(a=e(s).addClass("eboywp-template"))}if(0<a.length)r=a.html();else r=EWP_JSON.no_results_text}}else var r=!1;!1!==r&&(wp.hooks.applyFilters("eboywp/template_html",!1,{response:t,html:r})||e(".eboywp-template").html(r)),e.each(t.eboys,function(o,t){e(".eboywp-eboy-"+o).html(t)}),o(t.counts)&&e(".eboywp-counts").html(t.counts),o(t.pager)&&e(".eboywp-pager").html(t.pager),o(t.per_page)&&(e(".eboywp-per-page").html(t.per_page),"default"!==EWP.extras.per_page&&e(".eboywp-per-page-select").val(EWP.extras.per_page)),o(t.sort)&&(e(".eboywp-sort").html(t.sort),e(".eboywp-sort-select").val(EWP.extras.sort)),e.each(t.settings,function(e,o){EWP.settings[e]=o}),"function"==typeof WPPlaylistView&&e(".eboywp-template .wp-playlist").each(function(){return new WPPlaylistView({el:this})}),e(document).trigger("eboywp-loaded"),wp.hooks.doAction("eboywp/loaded"),EWP.is_bfcache=!0,EWP.loaded=!0},EWP.reset=function(t,a){if(EWP.parse_eboys(),o(t)){var n=EWP.eboys[t];if(o(a)&&n.length>1){var s=n.indexOf(a);-1<s&&(n.splice(s,1),EWP.eboys[t]=n)}else EWP.eboys[t]=[],delete EWP.frozen_eboys[t]}else e.each(EWP.eboys,function(e){EWP.eboys[e]=[]}),EWP.extras.sort="default",EWP.frozen_eboys={};wp.hooks.doAction("eboywp/reset"),EWP.is_reset=!0,EWP.refresh()},EWP.init=function(){if(0<e(".eboywp-sort").length&&(EWP.extras.sort="default"),0<e(".eboywp-pager").length&&(EWP.extras.pager=!0),0<e(".eboywp-per-page").length&&(EWP.extras.per_page="default"),0<e(".eboywp-counts").length&&(EWP.extras.counts=!0),0<e(".eboywp-selections").length&&(EWP.extras.selections=!0),!(e(".eboywp-template").length>0)){var t=EWP.helper.detect_loop(document.body);if(!t)return;e(t).addClass("eboywp-template")}var a=e(".eboywp-template:first");EWP.template=a.is("[data-name]")?a.attr("data-name"):"wp",0<a.find(".eboywp-eboy").length&&console.error('Eboys should not be inside the "eboywp-template" container'),wp.hooks.doAction("eboywp/ready"),EWP.extras.selections&&wp.hooks.addAction("eboywp/loaded",function(){var t="";e.each(EWP.eboys,function(a,n){if(n.length<1||!o(EWP.settings.labels[a]))return!0;var s=n,r=e(".eboywp-eboy-"+a).attr("data-type");"string"==typeof(s=wp.hooks.applyFilters("eboywp/selections/"+r,s,{el:e(".eboywp-eboy-"+a),selected_values:s}))?s=[{value:"",label:s}]:o(s[0].label)||(s=[{value:"",label:s[0]}]);var i="";e.each(s,function(e,o){i+='<span class="eboywp-selection-value" data-value="'+o.value+'">'+EWP.helper.escape_html(o.label)+"</span>"}),t+='<li data-eboy="'+a+'"><span class="eboywp-selection-label">'+EWP.settings.labels[a]+":</span> "+i+"</li>"}),""!==t&&(t="<ul>"+t+"</ul>"),e(".eboywp-selections").html(t)}),e(document).on("click",".eboywp-selections .eboywp-selection-value",function(){if(!EWP.is_refresh){var o=e(this).closest("li").attr("data-eboy"),t=e(this).attr("data-value");""!=t?EWP.reset(o,t):EWP.reset(o)}}),e(document).on("click",".eboywp-page",function(){e(".eboywp-page").removeClass("active"),e(this).addClass("active"),EWP.paged=e(this).attr("data-page"),EWP.soft_refresh=!0,EWP.refresh()}),e(document).on("change",".eboywp-per-page-select",function(){EWP.extras.per_page=e(this).val(),EWP.soft_refresh=!0,EWP.autoload()}),e(document).on("change",".eboywp-sort-select",function(){EWP.extras.sort=e(this).val(),EWP.soft_refresh=!0,EWP.autoload()}),EWP.refresh()},e(function(){EWP.init()})}(jQuery),o=jQuery,EWP.logic=EWP.logic||{},o.fn.pVal=function(){var e=o(this).eq(0).val();return e===o(this).attr("placeholder")?"":e},wp.hooks.addAction("eboywp/refresh/autocomplete",function(e,o){var t=e.find(".eboywp-autocomplete").val()||"";EWP.eboys[o]=t}),o(document).on("eboywp-loaded",function(){o(".eboywp-autocomplete:not(.ready)").each(function(){var e=o(this),t=e.closest(".eboywp-eboy").attr("data-name"),a=wp.hooks.applyFilters("eboywp/set_options/autocomplete",{serviceUrl:"wp"===EWP.template?document.URL:EWP_JSON.ajaxurl,type:"POST",minChars:3,deferRequestBy:200,showNoSuggestionNotice:!0,noSuggestionNotice:EWP_JSON.no_results,params:{action:"eboywp_autocomplete_load",eboy_name:t,data:EWP.build_post_data()}},{eboy_name:t});e.autocomplete(a),e.addClass("ready")})}),o(document).on("keyup",".eboywp-autocomplete",function(e){13===e.which&&EWP.autoload()}),o(document).on("click",".eboywp-autocomplete-update",function(){EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/checkboxes",function(e,t){var a=[];e.find(".eboywp-checkbox.checked").each(function(){a.push(o(this).attr("data-value"))}),EWP.eboys[t]=a}),wp.hooks.addFilter("eboywp/selections/checkboxes",function(e,t){var a=[];return o.each(t.selected_values,function(e,o){var n=t.el.find('.eboywp-checkbox[data-value="'+o+'"]').clone();n.find(".eboywp-counter").remove(),n.find(".eboywp-expand").remove(),a.push({value:o,label:n.text()})}),a}),o(document).on("click",".eboywp-type-checkboxes .eboywp-expand",function(e){var t=o(this).parent(".eboywp-checkbox").next(".eboywp-depth");t.toggleClass("visible");var a=t.hasClass("visible")?EWP_JSON.collapse:EWP_JSON.expand;o(this).text(a),e.stopPropagation()}),o(document).on("click",".eboywp-type-checkboxes .eboywp-checkbox:not(.disabled)",function(){o(this).toggleClass("checked"),EWP.autoload()}),o(document).on("click",".eboywp-type-checkboxes .eboywp-toggle",function(){var e=o(this).closest(".eboywp-eboy");e.find(".eboywp-toggle").toggleClass("eboywp-hidden"),e.find(".eboywp-overflow").toggleClass("eboywp-hidden")}),o(document).on("eboywp-loaded",function(){o(".eboywp-type-checkboxes .eboywp-overflow").each(function(){var e=o(this).find(".eboywp-checkbox").length,t=o(this).siblings(".eboywp-toggle:first");t.text(t.text().replace("{num}",e))}),o(".eboywp-type-checkboxes").each(function(){var e=o(this),t=e.attr("data-name");Object.keys(EWP.settings).length<1||("yes"===EWP.settings[t].show_expanded&&e.find(".eboywp-depth").addClass("visible"),1>e.find(".eboywp-expand").length&&(e.find(".eboywp-depth").each(function(){var e=o(this).hasClass("visible")?"collapse":"expand";o(this).prev(".eboywp-checkbox").append(' <span class="eboywp-expand">'+EWP_JSON[e]+"</span>")}),e.find(".eboywp-checkbox.checked").each(function(){o(this).parents(".eboywp-depth").each(function(){o(this).prev(".eboywp-checkbox").find(".eboywp-expand").text(EWP_JSON.collapse),o(this).addClass("visible")}),o(this).find(".eboywp-expand").trigger("click")})))})}),wp.hooks.addAction("eboywp/refresh/radio",function(e,t){var a=[];e.find(".eboywp-radio.checked").each(function(){a.push(o(this).attr("data-value"))}),EWP.eboys[t]=a}),wp.hooks.addFilter("eboywp/selections/radio",function(e,t){var a=[];return o.each(t.selected_values,function(e,o){var n=t.el.find('.eboywp-radio[data-value="'+o+'"]').clone();n.find(".eboywp-counter").remove(),a.push({value:o,label:n.text()})}),a}),o(document).on("click",".eboywp-type-radio .eboywp-radio:not(.disabled)",function(){var e=o(this).hasClass("checked");o(this).closest(".eboywp-eboy").find(".eboywp-radio").removeClass("checked"),e||o(this).addClass("checked"),EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/date_range",function(e,o){var t=e.find(".eboywp-date-min").pVal()||"",a=e.find(".eboywp-date-max").pVal()||"";EWP.eboys[o]=""!==t||""!==a?[t,a]:[]}),wp.hooks.addFilter("eboywp/selections/date_range",function(e,o){var t=o.selected_values,a=o.el,n="";return""!==t[0]&&(n+=" from "+a.find(".eboywp-date-min").next().val()),""!==t[1]&&(n+=" to "+a.find(".eboywp-date-max").next().val()),n}),o(document).on("eboywp-loaded",function(){var e=o('.eboywp-type-date_range .eboywp-date:not(".ready, .flatpickr-alt")');if(0!==e.length){var t={altInput:!0,altInputClass:"flatpickr-alt",altFormat:"Y-m-d",disableMobile:!0,locale:EWP_JSON.datepicker.locale,onChange:function(){EWP.autoload()},onReady:function(e,t,a){var n='<div class="flatpickr-clear">'+EWP_JSON.datepicker.clearText+"</div>";o(n).on("click",function(){a.clear(),a.close()}).appendTo(o(a.calendarContainer))}};e.each(function(){var e=o(this),a=e.closest(".eboywp-eboy").attr("data-name");t.altFormat=EWP.settings[a].format;var n=wp.hooks.applyFilters("eboywp/set_options/date_range",t,{eboy_name:a,element:e});new flatpickr(this,n),e.addClass("ready")})}}),wp.hooks.addAction("eboywp/refresh/dropdown",function(e,o){var t=e.find(".eboywp-dropdown").val();EWP.eboys[o]=t?[t]:[]}),wp.hooks.addFilter("eboywp/selections/dropdown",function(e,o){return o.el.find(".eboywp-dropdown option:selected").text()}),o(document).on("change",".eboywp-type-dropdown select",function(){var e=o(this).closest(".eboywp-eboy"),t=e.attr("data-name");""!==e.find(":selected").val()&&(EWP.frozen_eboys[t]="soft"),EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/fselect",function(e,t){var a=e.find("select").val();null===a||""===a?a=[]:!1===o.isArray(a)&&(a=[a]),EWP.eboys[t]=a}),wp.hooks.addFilter("eboywp/selections/fselect",function(e,t){var a=[];return o.each(t.selected_values,function(e,o){var n=t.el.find('.eboywp-dropdown option[value="'+o+'"]').text();a.push({value:o,label:n.replace(/{{(.*?)}}/,"")})}),a}),o(document).on("eboywp-loaded",function(){o(".eboywp-type-fselect select:not(.ready)").each(function(){var e=o(this).closest(".eboywp-eboy").attr("data-name"),t=EWP.settings[e],a=wp.hooks.applyFilters("eboywp/set_options/fselect",{placeholder:t.placeholder,overflowText:t.overflowText,searchText:t.searchText,optionFormatter:function(e){return e=(e=e.replace(/{{/g,'<span class="eboywp-counter">')).replace(/}}/g,"<span>")}},{eboy_name:e});o(this).fSelect(a),o(this).addClass("ready")}),o(".fs-wrap.fs-disabled").removeClass("fs-disabled")}),o(document).on("fs:changed",function(e,t){if(t.classList.contains("multiple")){var a=o(t).closest(".eboywp-eboy").attr("data-name");"or"===EWP.settings[a].operator&&(EWP.frozen_eboys[a]="soft",EWP.auto_refresh&&o(t).addClass("fs-disabled")),EWP.autoload()}}),o(document).on("fs:closed",function(e,o){o.classList.contains("multiple")||EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/hierarchy",function(e,t){var a=[];e.find(".eboywp-link.checked").each(function(){a.push(o(this).attr("data-value"))}),EWP.eboys[t]=a}),wp.hooks.addFilter("eboywp/selections/hierarchy",function(e,o){return o.el.find(".eboywp-link.checked").text()}),o(document).on("click",".eboywp-eboy .eboywp-link",function(){o(this).closest(".eboywp-eboy").find(".eboywp-link").removeClass("checked"),""!==o(this).attr("data-value")&&o(this).addClass("checked"),EWP.autoload()}),o(document).on("click",".eboywp-type-hierarchy .eboywp-toggle",function(){var e=o(this).closest(".eboywp-eboy");e.find(".eboywp-toggle").toggleClass("eboywp-hidden"),e.find(".eboywp-overflow").toggleClass("eboywp-hidden")}),wp.hooks.addAction("eboywp/refresh/number_range",function(e,o){var t=e.find(".eboywp-number-min").val()||"",a=e.find(".eboywp-number-max").val()||"";EWP.eboys[o]=""!==t||""!==a?[t,a]:[]}),wp.hooks.addFilter("eboywp/selections/number_range",function(e,o){return o.selected_values[0]+" - "+o.selected_values[1]}),o(document).on("click",".eboywp-type-number_range .eboywp-submit",function(){EWP.refresh()}),o(document).on("eboywp-loaded",function(){var e=o(".eboywp-location");e.length<1||e.each(function(e,t){var a=o(this);a.closest(".input-group").length<1&&(function(e){var t=e.addEventListener;e.addEventListener=function(a,n){if("keydown"===a){var s=n;n=function(t){if(13===t.which&&0===o(".pac-container .pac-item-selected").length){var a=o.Event("keydown",{keyCode:40,which:40});s.apply(e,[a])}s.apply(e,[t])}}t.apply(e,[a,n])};var a=EWP_JSON.proximity.autocomplete_options,n=new google.maps.places.Autocomplete(e,a);google.maps.event.addListener(n,"place_changed",function(){var t=n.getPlace();if(void 0!==t.geometry){var a=o(e).closest(".eboywp-eboy");a.find(".eboywp-lat").val(t.geometry.location.lat()),a.find(".eboywp-lng").val(t.geometry.location.lng()),EWP.autoload()}})}(a[0]),0===e&&(a.attr("id","eboywp-location"),a.closest(".eboywp-eboy").find(".eboywp-radius").attr("id","eboywp-radius")),a.wrap('<div class="eboywp-location"></div>'),a.after('<i class="locate-me pr-5"></i>')),a.trigger("keyup")})}),o(document).on("click",".eboywp-type-proximity .locate-me",function(e){var t=o(this),a=t.closest(".eboywp-eboy"),n=a.find(".eboywp-location"),s=a.find(".eboywp-lat"),r=a.find(".eboywp-lng");if(t.hasClass("f-reset"))return s.val(""),s.val(""),n.val(""),void EWP.autoload();t.addClass("f-loading"),navigator.geolocation.getCurrentPosition(function(e){var o=e.coords.latitude,a=e.coords.longitude;s.val(o),r.val(a);var i=new google.maps.Geocoder,l={lat:parseFloat(o),lng:parseFloat(a)};i.geocode({location:l},function(e,o){o===google.maps.GeocoderStatus.OK?n.val(e[0].formatted_address):n.val("Your location"),t.addClass("f-reset"),EWP.autoload()}),t.removeClass("f-loading")},function(){t.removeClass("f-loading")})}),o(document).on("keyup",".eboywp-location",function(){o(this).closest(".eboywp-eboy").find(".locate-me").toggleClass("f-reset",""!==o(this).val())}),o(document).on("change",".eboywp-radius",function(){""!==o(this).closest(".eboywp-eboy").find(".eboywp-location").val()&&EWP.autoload()}),o(document).on("input",".eboywp-radius-slider",function(e){o(this).closest(".eboywp-eboy").find(".eboywp-radius-dist").text(e.target.value)}),wp.hooks.addAction("eboywp/refresh/proximity",function(e,o){var t=e.find(".eboywp-lat").val(),a=e.find(".eboywp-lng").val(),n=e.find(".eboywp-radius").val(),s=encodeURIComponent(e.find(".eboywp-location").val());EWP.frozen_eboys[o]="hard",EWP.eboys[o]=""!==t&&void 0!==t?[t,a,n,s]:[]}),wp.hooks.addFilter("eboywp/selections/proximity",function(e,o){return EWP_JSON.proximity.clearText}),EWP.logic.search={set_button:function(e){var o=e.find(".eboywp-search").val();e.find(".eboywp-btn").toggleClass("f-reset",""!==o)},delay_refresh:EWP.helper.debounce(function(e){EWP.frozen_eboys[e]="soft",EWP.autoload()},250)},wp.hooks.addAction("eboywp/refresh/search",function(e,o){var t=e.find(".eboywp-search").val()||"";EWP.eboys[o]=t}),o(document).on("eboywp-loaded",function(){o(".eboywp-eboy .eboywp-search").each(function(){var e=o(this).closest(".eboywp-eboy");EWP.logic.search.set_button(e)})}),o(document).on("keyup",".eboywp-eboy .eboywp-search",function(e){var t=o(this).closest(".eboywp-eboy"),a=t.attr("data-name");EWP.logic.search.set_button(t),void 0!==EWP.settings[a]&&("yes"===EWP.settings[a].auto_refresh?EWP.logic.search.delay_refresh(a):13===e.keyCode&&(""===t.find(".eboywp-search").val()?t.find(".eboywp-btn").click():EWP.autoload()))}),o(document).on("click",".eboywp-type-search .eboywp-btn",function(e){var t=o(this),a=t.closest(".eboywp-eboy"),n=a.attr("data-name");(t.hasClass("f-reset")||""===a.find(".eboywp-search").val())&&(a.find(".eboywp-search").val(""),EWP.eboys[n]=[],EWP.set_hash(),EWP.fetch_data())}),wp.hooks.addAction("eboywp/refresh/slider",function(e,o){EWP.eboys[o]=[],void 0!==EWP.frozen_eboys[o]&&void 0!==e.find(".eboywp-slider")[0].noUiSlider&&(EWP.eboys[o]=e.find(".eboywp-slider")[0].noUiSlider.get())}),wp.hooks.addAction("eboywp/set_label/slider",function(e){var o=e.attr("data-name"),t=EWP.settings[o].lower,a=EWP.settings[o].upper,n=EWP.settings[o].format,s={decimal_separator:EWP.settings[o].decimal_separator,thousands_separator:EWP.settings[o].thousands_separator};if(t===a)var r=EWP.settings[o].prefix+nummy(t).format(n,s)+EWP.settings[o].suffix;else r=EWP.settings[o].prefix+nummy(t).format(n,s)+EWP.settings[o].suffix+" &mdash; "+EWP.settings[o].prefix+nummy(a).format(n,s)+EWP.settings[o].suffix;e.find(".eboywp-slider-label").html(r)}),wp.hooks.addFilter("eboywp/selections/slider",function(e,o){return o.el.find(".eboywp-slider-label").text()}),o(document).on("eboywp-loaded",function(){o(".eboywp-slider:not(.ready)").each(function(){var e=o(this).closest(".eboywp-eboy"),t=e.attr("data-name"),a=EWP.settings[t];if(!1!==EWP.helper.get_url_var(t)&&(EWP.frozen_eboys[t]="hard"),void 0===o(this).data("options")&&null!==EWP.settings[t].start[0]){if(parseFloat(a.range.min)>=parseFloat(a.range.max))return EWP.settings[t].lower=a.range.min,EWP.settings[t].upper=a.range.max,void wp.hooks.doAction("eboywp/set_label/slider",e);var n=wp.hooks.applyFilters("eboywp/set_options/slider",{range:a.range,start:a.start,step:parseFloat(a.step),connect:!0},{eboy_name:t}),s=o(this)[0];noUiSlider.create(s,n),s.noUiSlider.on("update",function(o,a){EWP.settings[t].lower=o[0],EWP.settings[t].upper=o[1],wp.hooks.doAction("eboywp/set_label/slider",e)}),s.noUiSlider.on("set",function(){EWP.frozen_eboys[t]="hard",EWP.autoload()}),o(this).addClass("ready")}}),o(".eboywp-type-slider").each(function(){var e=o(this).attr("data-name"),t=o(this).find(".eboywp-slider-reset");o.isEmptyObject(EWP.eboys[e])?t.hide():t.show()})}),o(document).on("click",".eboywp-slider-reset",function(){var e=o(this).closest(".eboywp-eboy").attr("data-name");EWP.reset(e)})}();
