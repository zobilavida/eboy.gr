!function(){"use strict";var e,t;(e=window).wp=e.wp||{},e.wp.hooks=e.wp.hooks||new function(){function e(e,t,a,c){var o,s,r;if(n[e][t])if(a)if(o=n[e][t],c)for(r=o.length;r--;)(s=o[r]).callback===a&&s.context===c&&o.splice(r,1);else for(r=o.length;r--;)o[r].callback===a&&o.splice(r,1);else n[e][t]=[]}function t(e,t,a,c,o){var s={callback:a,priority:c,context:o},r=n[e][t];r?(r.push(s),r=function(e){for(var t,a,c,o=1,n=e.length;o<n;o++){for(t=e[o],a=o;(c=e[a-1])&&c.priority>t.priority;)e[a]=e[a-1],--a;e[a]=t}return e}(r)):r=[s],n[e][t]=r}function a(e,t,a){var c,o,s=n[e][t];if(!s)return"filters"===e&&a[0];if(o=s.length,"filters"===e)for(c=0;c<o;c++)a[0]=s[c].callback.apply(s[c].context,a);else for(c=0;c<o;c++)s[c].callback.apply(s[c].context,a);return"filters"!==e||a[0]}var c=Array.prototype.slice,o={removeFilter:function(t,a){return"string"==typeof t&&e("filters",t,a),o},applyFilters:function(){var e=c.call(arguments),t=e.shift();return"string"==typeof t?a("filters",t,e):o},addFilter:function(e,a,c,n){return"string"==typeof e&&"function"==typeof a&&t("filters",e,a,c=parseInt(c||10,10),n),o},removeAction:function(t,a){return"string"==typeof t&&e("actions",t,a),o},doAction:function(){var e=c.call(arguments),t=e.shift();return"string"==typeof t&&a("actions",t,e),o},addAction:function(e,a,c,n){return"string"==typeof e&&"function"==typeof a&&t("actions",e,a,c=parseInt(c||10,10),n),o}},n={actions:{},filters:{}};return o},window.EWP=window.EWP||{},function(e){function t(e){return void 0!==e}var a={facets:{},template:null,settings:{},is_reset:!1,is_refresh:!1,is_bfcache:!1,auto_refresh:!0,soft_refresh:!1,frozen_facets:{},facet_type:{},loaded:!1,jqXHR:!1,extras:{},helper:{},paged:1};for(var c in a)t(EWP[c])||(EWP[c]=a[c]);e(window).on("load",function(){setTimeout(function(){e(window).on("popstate",function(){EWP.is_bfcache&&(EWP.loaded=!1),!EWP.loaded&&!EWP.is_bfcache||EWP.is_refresh||(EWP.is_popstate=!0,EWP.refresh(),EWP.is_popstate=!1)})},0)}),EWP.helper.get_url_var=function(e){e=EWP_JSON.prefix+e;for(var t=EWP.build_query_string().split("&"),a=0;a<t.length;a++){var c=t[a].split("=");if(c[0]===e)return c[1]}return!1},EWP.helper.debounce=function(e,t){var a;return function(){var c=this,o=arguments;clearTimeout(a),a=setTimeout(function(){a=null,e.apply(c,o)},t)}},EWP.helper.serialize=function(e,a){var c=[];a=t(a)?a:"";for(var o in e)""!=e[o]&&c.push(a+encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return c.join("&")},EWP.helper.escape_html=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]}).trim()},EWP.helper.detect_loop=function(e){for(var t=null,a=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,EWP.helper.node_filter,!1);t=a.nextNode();)if(8===t.nodeType&&"EWP-loop"===t.nodeValue)return t.parentNode;return!1},EWP.helper.node_filter=function(){return NodeFilter.FILTER_ACCEPT},EWP.autoload=function(){EWP.auto_refresh&&!EWP.is_refresh&&EWP.refresh()},EWP.refresh=function(){EWP.is_refresh=!0,EWP.is_reset||EWP.parse_facets(),EWP.loaded||EWP.load_from_hash(),e(document).trigger("eboywp-refresh"),EWP.loaded&&!EWP.is_popstate&&EWP.set_hash(),EWP.loaded||EWP.is_bfcache||!t(EWP_JSON.preload_data)?EWP.fetch_data():EWP.render(EWP_JSON.preload_data),e.each(EWP.frozen_facets,function(e,t){"hard"!==t&&delete EWP.frozen_facets[e]}),EWP.paged=1,EWP.soft_refresh=!1,EWP.is_refresh=!1,EWP.is_reset=!1},EWP.parse_facets=function(){EWP.facets={},e(".eboywp-facet").each(function(){var a=e(this),c=a.attr("data-name"),o=a.attr("data-type");EWP.facet_type[c]=o,wp.hooks.doAction("eboywp/refresh/"+o,a,c);var n=!0;EWP.loaded&&(EWP.soft_refresh||t(EWP.frozen_facets[c]))&&(n=!1),n&&EWP.loading_handler({element:a,facet_name:c,facet_type:o})}),1<EWP.paged&&(EWP.facets.paged=EWP.paged),EWP.extras.per_page&&"default"!==EWP.extras.per_page&&(EWP.facets.per_page=EWP.extras.per_page),EWP.extras.sort&&"default"!==EWP.extras.sort&&(EWP.facets.sort=EWP.extras.sort)},EWP.loading_handler=function(t){if("fade"==EWP_JSON.loading_animation){if(!EWP.loaded){var a=t.element;e(document).on("eboywp-refresh",function(){a.prepend('<div class="eboywp-overlay">'),a.find(".eboywp-overlay").css({width:a.width(),height:a.height()})}),e(document).on("eboywp-loaded",function(){a.find(".eboywp-overlay").remove()})}}else""==EWP_JSON.loading_animation&&t.element.html('<div class="eboywp-loading"></div>')},EWP.build_query_string=function(){var t="",a=[],c=window.location.search.replace("?","").split("&");e.each(c,function(e,t){0!==t.split("=")[0].indexOf(EWP_JSON.prefix)&&a.push(t)}),a=a.join("&");var o=EWP.helper.serialize(EWP.facets,EWP_JSON.prefix);return""!==a&&(t+=a),""!==o&&(t+=(""!==a?"&":"")+o),t},EWP.set_hash=function(){var e=EWP.build_query_string();""!==e&&(e="?"+e),history.pushState&&history.pushState(null,null,window.location.pathname+e),EWP_HTTP.get={},window.location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");EWP_HTTP.get[t[0]]=t[1]})},EWP.load_from_hash=function(){var a=[],c=window.location.search.replace("?","").split("&");e.each(c,function(e,t){0===t.split("=")[0].indexOf(EWP_JSON.prefix)&&a.push(t.replace(EWP_JSON.prefix,""))}),a=a.join("&"),e.each(EWP.facets,function(e){EWP.facets[e]=[]}),EWP.paged=1,EWP.extras.sort="default",""!==a&&(a=a.split("&"),e.each(a,function(e,a){var c=a.split("=")[0],o=a.split("=")[1];if("paged"===c)EWP.paged=o;else if("per_page"===c||"sort"===c)EWP.extras[c]=o;else if(""!==o){var n=t(EWP.facet_type[c])?EWP.facet_type[c]:"";EWP.facets[c]="search"===n||"autocomplete"===n?decodeURIComponent(o):decodeURIComponent(o).split(",")}}))},EWP.build_post_data=function(){return{facets:JSON.stringify(EWP.facets),frozen_facets:EWP.frozen_facets,http_params:EWP_HTTP,template:EWP.template,extras:EWP.extras,soft_refresh:EWP.soft_refresh?1:0,is_bfcache:EWP.is_bfcache?1:0,first_load:EWP.loaded?0:1,paged:EWP.paged}},EWP.fetch_data=function(){EWP.jqXHR&&4!==EWP.jqXHR.readyState&&EWP.jqXHR.abort();var t="wp"===EWP.template?document.URL:EWP_JSON.ajaxurl,a={type:"POST",dataType:"text",data:{action:"eboywp_refresh",data:EWP.build_post_data()},success:function(t){try{var a=e.parseJSON(t);EWP.render(a)}catch(n){var c=t.indexOf('{"facets');if(-1<c){var o=t.substr(0,c);a=e.parseJSON(t.substr(c));EWP.render(a),console.log(o)}else e(".eboywp-template").text("eboywp was unable to auto-detect the post listing"),console.log(t)}}};a=wp.hooks.applyFilters("eboywp/ajax_settings",a),EWP.jqXHR=e.ajax(t,a)},EWP.render=function(a){if("wp"!==EWP.template&&""!==a.template||EWP.loaded||EWP.is_bfcache){s=a.template;if("wp"===EWP.template){var c=e(a.template).find(".eboywp-template");if(1>c.length){var o=document.createElement("div");o.innerHTML=a.template;var n=EWP.helper.detect_loop(o);n&&(c=e(n).addClass("eboywp-template"))}if(0<c.length)s=c.html();else s=EWP_JSON.no_results_text}}else var s=!1;!1!==s&&(wp.hooks.applyFilters("eboywp/template_html",!1,{response:a,html:s})||e(".eboywp-template").html(s)),e.each(a.facets,function(t,a){e(".eboywp-facet-"+t).html(a)}),t(a.counts)&&e(".eboywp-counts").html(a.counts),t(a.pager)&&e(".eboywp-pager").html(a.pager),t(a.per_page)&&(e(".eboywp-per-page").html(a.per_page),"default"!==EWP.extras.per_page&&e(".eboywp-per-page-select").val(EWP.extras.per_page)),t(a.sort)&&(e(".eboywp-sort").html(a.sort),e(".eboywp-sort-select").val(EWP.extras.sort)),e.each(a.settings,function(e,t){EWP.settings[e]=t}),"function"==typeof WPPlaylistView&&e(".eboywp-template .wp-playlist").each(function(){return new WPPlaylistView({el:this})}),e(document).trigger("eboywp-loaded"),wp.hooks.doAction("eboywp/loaded"),EWP.is_bfcache=!0,EWP.loaded=!0},EWP.reset=function(a,c){if(EWP.parse_facets(),t(a)){var o=EWP.facets[a];if(t(c)&&o.length>1){var n=o.indexOf(c);-1<n&&(o.splice(n,1),EWP.facets[a]=o)}else EWP.facets[a]=[],delete EWP.frozen_facets[a]}else e.each(EWP.facets,function(e){EWP.facets[e]=[]}),EWP.extras.sort="default",EWP.frozen_facets={};wp.hooks.doAction("eboywp/reset"),EWP.is_reset=!0,EWP.refresh()},EWP.init=function(){if(0<e(".eboywp-sort").length&&(EWP.extras.sort="default"),0<e(".eboywp-pager").length&&(EWP.extras.pager=!0),0<e(".eboywp-per-page").length&&(EWP.extras.per_page="default"),0<e(".eboywp-counts").length&&(EWP.extras.counts=!0),0<e(".eboywp-selections").length&&(EWP.extras.selections=!0),!(e(".eboywp-template").length>0)){var a=EWP.helper.detect_loop(document.body);if(!a)return;e(a).addClass("eboywp-template")}var c=e(".eboywp-template:first");EWP.template=c.is("[data-name]")?c.attr("data-name"):"wp",0<c.find(".eboywp-facet").length&&console.error('Facets should not be inside the "eboywp-template" container'),wp.hooks.doAction("eboywp/ready"),EWP.extras.selections&&wp.hooks.addAction("eboywp/loaded",function(){var a="";e.each(EWP.facets,function(c,o){if(o.length<1||!t(EWP.settings.labels[c]))return!0;var n=o,s=e(".eboywp-facet-"+c).attr("data-type");"string"==typeof(n=wp.hooks.applyFilters("eboywp/selections/"+s,n,{el:e(".eboywp-facet-"+c),selected_values:n}))?n=[{value:"",label:n}]:t(n[0].label)||(n=[{value:"",label:n[0]}]);var r="";e.each(n,function(e,t){r+='<span class="eboywp-selection-value" data-value="'+t.value+'">'+EWP.helper.escape_html(t.label)+"</span>"}),a+='<li data-facet="'+c+'"><span class="eboywp-selection-label">'+EWP.settings.labels[c]+":</span> "+r+"</li>"}),""!==a&&(a="<ul>"+a+"</ul>"),e(".eboywp-selections").html(a)}),e(document).on("click",".eboywp-selections .eboywp-selection-value",function(){if(!EWP.is_refresh){var t=e(this).closest("li").attr("data-facet"),a=e(this).attr("data-value");""!=a?EWP.reset(t,a):EWP.reset(t)}}),e(document).on("click",".eboywp-page",function(){e(".eboywp-page").removeClass("active"),e(this).addClass("active"),EWP.paged=e(this).attr("data-page"),EWP.soft_refresh=!0,EWP.refresh()}),e(document).on("change",".eboywp-per-page-select",function(){EWP.extras.per_page=e(this).val(),EWP.soft_refresh=!0,EWP.autoload()}),e(document).on("change",".eboywp-sort-select",function(){EWP.extras.sort=e(this).val(),EWP.soft_refresh=!0,EWP.autoload()}),EWP.refresh()},e(function(){EWP.init()})}(jQuery),t=jQuery,EWP.logic=EWP.logic||{},t.fn.pVal=function(){var e=t(this).eq(0).val();return e===t(this).attr("placeholder")?"":e},wp.hooks.addAction("eboywp/refresh/autocomplete",function(e,t){var a=e.find(".eboywp-autocomplete").val()||"";EWP.facets[t]=a}),t(document).on("eboywp-loaded",function(){t(".eboywp-autocomplete:not(.ready)").each(function(){var e=t(this),a=e.closest(".eboywp-facet").attr("data-name"),c=wp.hooks.applyFilters("eboywp/set_options/autocomplete",{serviceUrl:"wp"===EWP.template?document.URL:EWP_JSON.ajaxurl,type:"POST",minChars:3,deferRequestBy:200,showNoSuggestionNotice:!0,noSuggestionNotice:EWP_JSON.no_results,params:{action:"eboywp_autocomplete_load",facet_name:a,data:EWP.build_post_data()}},{facet_name:a});e.autocomplete(c),e.addClass("ready")})}),t(document).on("keyup",".eboywp-autocomplete",function(e){13===e.which&&EWP.autoload()}),t(document).on("click",".eboywp-autocomplete-update",function(){EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/checkboxes",function(e,a){var c=[];e.find(".eboywp-checkbox.checked").each(function(){c.push(t(this).attr("data-value"))}),EWP.facets[a]=c}),wp.hooks.addFilter("eboywp/selections/checkboxes",function(e,a){var c=[];return t.each(a.selected_values,function(e,t){var o=a.el.find('.eboywp-checkbox[data-value="'+t+'"]').clone();o.find(".eboywp-counter").remove(),o.find(".eboywp-expand").remove(),c.push({value:t,label:o.text()})}),c}),t(document).on("click",".eboywp-type-checkboxes .eboywp-expand",function(e){var a=t(this).parent(".eboywp-checkbox").next(".eboywp-depth");a.toggleClass("visible");var c=a.hasClass("visible")?EWP_JSON.collapse:EWP_JSON.expand;t(this).text(c),e.stopPropagation()}),t(document).on("click",".eboywp-type-checkboxes .eboywp-checkbox:not(.disabled)",function(){t(this).toggleClass("checked"),EWP.autoload()}),t(document).on("click",".eboywp-type-checkboxes .eboywp-toggle",function(){var e=t(this).closest(".eboywp-facet");e.find(".eboywp-toggle").toggleClass("eboywp-hidden"),e.find(".eboywp-overflow").toggleClass("eboywp-hidden")}),t(document).on("eboywp-loaded",function(){t(".eboywp-type-checkboxes .eboywp-overflow").each(function(){var e=t(this).find(".eboywp-checkbox").length,a=t(this).siblings(".eboywp-toggle:first");a.text(a.text().replace("{num}",e))}),t(".eboywp-type-checkboxes").each(function(){var e=t(this),a=e.attr("data-name");Object.keys(EWP.settings).length<1||("yes"===EWP.settings[a].show_expanded&&e.find(".eboywp-depth").addClass("visible"),1>e.find(".eboywp-expand").length&&(e.find(".eboywp-depth").each(function(){var e=t(this).hasClass("visible")?"collapse":"expand";t(this).prev(".eboywp-checkbox").append(' <span class="eboywp-expand">'+EWP_JSON[e]+"</span>")}),e.find(".eboywp-checkbox.checked").each(function(){t(this).parents(".eboywp-depth").each(function(){t(this).prev(".eboywp-checkbox").find(".eboywp-expand").text(EWP_JSON.collapse),t(this).addClass("visible")}),t(this).find(".eboywp-expand").trigger("click")})))})}),wp.hooks.addAction("eboywp/refresh/radio",function(e,a){var c=[];e.find(".eboywp-radio.checked").each(function(){c.push(t(this).attr("data-value"))}),EWP.facets[a]=c}),wp.hooks.addFilter("eboywp/selections/radio",function(e,a){var c=[];return t.each(a.selected_values,function(e,t){var o=a.el.find('.eboywp-radio[data-value="'+t+'"]').clone();o.find(".eboywp-counter").remove(),c.push({value:t,label:o.text()})}),c}),t(document).on("click",".eboywp-type-radio .eboywp-radio:not(.disabled)",function(){var e=t(this).hasClass("checked");t(this).closest(".eboywp-facet").find(".eboywp-radio").removeClass("checked"),e||t(this).addClass("checked"),EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/date_range",function(e,t){var a=e.find(".eboywp-date-min").pVal()||"",c=e.find(".eboywp-date-max").pVal()||"";EWP.facets[t]=""!==a||""!==c?[a,c]:[]}),wp.hooks.addFilter("eboywp/selections/date_range",function(e,t){var a=t.selected_values,c=t.el,o="";return""!==a[0]&&(o+=" from "+c.find(".eboywp-date-min").next().val()),""!==a[1]&&(o+=" to "+c.find(".eboywp-date-max").next().val()),o}),t(document).on("eboywp-loaded",function(){var e=t('.eboywp-type-date_range .eboywp-date:not(".ready, .flatpickr-alt")');if(0!==e.length){var a={altInput:!0,altInputClass:"flatpickr-alt",altFormat:"Y-m-d",disableMobile:!0,locale:EWP_JSON.datepicker.locale,onChange:function(){EWP.autoload()},onReady:function(e,a,c){var o='<div class="flatpickr-clear">'+EWP_JSON.datepicker.clearText+"</div>";t(o).on("click",function(){c.clear(),c.close()}).appendTo(t(c.calendarContainer))}};e.each(function(){var e=t(this),c=e.closest(".eboywp-facet").attr("data-name");a.altFormat=EWP.settings[c].format;var o=wp.hooks.applyFilters("eboywp/set_options/date_range",a,{facet_name:c,element:e});new flatpickr(this,o),e.addClass("ready")})}}),wp.hooks.addAction("eboywp/refresh/dropdown",function(e,t){var a=e.find(".eboywp-dropdown").val();EWP.facets[t]=a?[a]:[]}),wp.hooks.addFilter("eboywp/selections/dropdown",function(e,t){return t.el.find(".eboywp-dropdown option:selected").text()}),t(document).on("change",".eboywp-type-dropdown select",function(){var e=t(this).closest(".eboywp-facet"),a=e.attr("data-name");""!==e.find(":selected").val()&&(EWP.frozen_facets[a]="soft"),EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/fselect",function(e,a){var c=e.find("select").val();null===c||""===c?c=[]:!1===t.isArray(c)&&(c=[c]),EWP.facets[a]=c}),wp.hooks.addFilter("eboywp/selections/fselect",function(e,a){var c=[];return t.each(a.selected_values,function(e,t){var o=a.el.find('.eboywp-dropdown option[value="'+t+'"]').text();c.push({value:t,label:o.replace(/{{(.*?)}}/,"")})}),c}),t(document).on("eboywp-loaded",function(){t(".eboywp-type-fselect select:not(.ready)").each(function(){var e=t(this).closest(".eboywp-facet").attr("data-name"),a=EWP.settings[e],c=wp.hooks.applyFilters("eboywp/set_options/fselect",{placeholder:a.placeholder,overflowText:a.overflowText,searchText:a.searchText,optionFormatter:function(e){return e=(e=e.replace(/{{/g,'<span class="eboywp-counter">')).replace(/}}/g,"<span>")}},{facet_name:e});t(this).fSelect(c),t(this).addClass("ready")}),t(".fs-wrap.fs-disabled").removeClass("fs-disabled")}),t(document).on("fs:changed",function(e,a){if(a.classList.contains("multiple")){var c=t(a).closest(".eboywp-facet").attr("data-name");"or"===EWP.settings[c].operator&&(EWP.frozen_facets[c]="soft",EWP.auto_refresh&&t(a).addClass("fs-disabled")),EWP.autoload()}}),t(document).on("fs:closed",function(e,t){t.classList.contains("multiple")||EWP.autoload()}),wp.hooks.addAction("eboywp/refresh/hierarchy",function(e,a){var c=[];e.find(".eboywp-link.checked").each(function(){c.push(t(this).attr("data-value"))}),EWP.facets[a]=c}),wp.hooks.addFilter("eboywp/selections/hierarchy",function(e,t){return t.el.find(".eboywp-link.checked").text()}),t(document).on("click",".eboywp-facet .eboywp-link",function(){t(this).closest(".eboywp-facet").find(".eboywp-link").removeClass("checked"),""!==t(this).attr("data-value")&&t(this).addClass("checked"),EWP.autoload()}),t(document).on("click",".eboywp-type-hierarchy .eboywp-toggle",function(){var e=t(this).closest(".eboywp-facet");e.find(".eboywp-toggle").toggleClass("eboywp-hidden"),e.find(".eboywp-overflow").toggleClass("eboywp-hidden")}),wp.hooks.addAction("eboywp/refresh/number_range",function(e,t){var a=e.find(".eboywp-number-min").val()||"",c=e.find(".eboywp-number-max").val()||"";EWP.facets[t]=""!==a||""!==c?[a,c]:[]}),wp.hooks.addFilter("eboywp/selections/number_range",function(e,t){return t.selected_values[0]+" - "+t.selected_values[1]}),t(document).on("click",".eboywp-type-number_range .eboywp-submit",function(){EWP.refresh()}),t(document).on("eboywp-loaded",function(){var e=t(".eboywp-location");e.length<1||e.each(function(e,a){var c=t(this);c.closest(".location-wrap").length<1&&(function(e){var a=e.addEventListener;e.addEventListener=function(c,o){if("keydown"===c){var n=o;o=function(a){if(13===a.which&&0===t(".pac-container .pac-item-selected").length){var c=t.Event("keydown",{keyCode:40,which:40});n.apply(e,[c])}n.apply(e,[a])}}a.apply(e,[c,o])};var c=EWP_JSON.proximity.autocomplete_options,o=new google.maps.places.Autocomplete(e,c);google.maps.event.addListener(o,"place_changed",function(){var a=o.getPlace();if(void 0!==a.geometry){var c=t(e).closest(".eboywp-facet");c.find(".eboywp-lat").val(a.geometry.location.lat()),c.find(".eboywp-lng").val(a.geometry.location.lng()),EWP.autoload()}})}(c[0]),0===e&&(c.attr("id","eboywp-location"),c.closest(".eboywp-facet").find(".eboywp-radius").attr("id","eboywp-radius")),c.wrap('<span class="location-wrap"></span>'),c.before('<i class="locate-me"></i>')),c.trigger("keyup")})}),t(document).on("click",".eboywp-type-proximity .locate-me",function(e){var a=t(this),c=a.closest(".eboywp-facet"),o=c.find(".eboywp-location"),n=c.find(".eboywp-lat"),s=c.find(".eboywp-lng");if(a.hasClass("f-reset"))return n.val(""),n.val(""),o.val(""),void EWP.autoload();a.addClass("f-loading"),navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,c=e.coords.longitude;n.val(t),s.val(c);var r=new google.maps.Geocoder,i={lat:parseFloat(t),lng:parseFloat(c)};r.geocode({location:i},function(e,t){t===google.maps.GeocoderStatus.OK?o.val(e[0].formatted_address):o.val("Your location"),a.addClass("f-reset"),EWP.autoload()}),a.removeClass("f-loading")},function(){a.removeClass("f-loading")})}),t(document).on("keyup",".eboywp-location",function(){t(this).closest(".eboywp-facet").find(".locate-me").toggleClass("f-reset",""!==t(this).val())}),t(document).on("change",".eboywp-radius",function(){""!==t(this).closest(".eboywp-facet").find(".eboywp-location").val()&&EWP.autoload()}),t(document).on("input",".eboywp-radius-slider",function(e){t(this).closest(".eboywp-facet").find(".eboywp-radius-dist").text(e.target.value)}),wp.hooks.addAction("eboywp/refresh/proximity",function(e,t){var a=e.find(".eboywp-lat").val(),c=e.find(".eboywp-lng").val(),o=e.find(".eboywp-radius").val(),n=encodeURIComponent(e.find(".eboywp-location").val());EWP.frozen_facets[t]="hard",EWP.facets[t]=""!==a&&void 0!==a?[a,c,o,n]:[]}),wp.hooks.addFilter("eboywp/selections/proximity",function(e,t){return EWP_JSON.proximity.clearText}),EWP.logic.search={set_button:function(e){var t=e.find(".eboywp-search").val();e.find(".eboywp-btn").toggleClass("f-reset",""!==t)},delay_refresh:EWP.helper.debounce(function(e){EWP.frozen_facets[e]="soft",EWP.autoload()},250)},wp.hooks.addAction("eboywp/refresh/search",function(e,t){var a=e.find(".eboywp-search").val()||"";EWP.facets[t]=a}),t(document).on("eboywp-loaded",function(){t(".eboywp-facet .eboywp-search").each(function(){var e=t(this).closest(".eboywp-facet");EWP.logic.search.set_button(e)})}),t(document).on("keyup",".eboywp-facet .eboywp-search",function(e){var a=t(this).closest(".eboywp-facet"),c=a.attr("data-name");EWP.logic.search.set_button(a),void 0!==EWP.settings[c]&&("yes"===EWP.settings[c].auto_refresh?EWP.logic.search.delay_refresh(c):13===e.keyCode&&(""===a.find(".eboywp-search").val()?a.find(".eboywp-btn").click():EWP.autoload()))}),t(document).on("click",".eboywp-type-search .eboywp-btn",function(e){var a=t(this),c=a.closest(".eboywp-facet"),o=c.attr("data-name");(a.hasClass("f-reset")||""===c.find(".eboywp-search").val())&&(c.find(".eboywp-search").val(""),EWP.facets[o]=[],EWP.set_hash(),EWP.fetch_data())}),wp.hooks.addAction("eboywp/refresh/slider",function(e,t){EWP.facets[t]=[],void 0!==EWP.frozen_facets[t]&&void 0!==e.find(".eboywp-slider")[0].noUiSlider&&(EWP.facets[t]=e.find(".eboywp-slider")[0].noUiSlider.get())}),wp.hooks.addAction("eboywp/set_label/slider",function(e){var t=e.attr("data-name"),a=EWP.settings[t].lower,c=EWP.settings[t].upper,o=EWP.settings[t].format,n={decimal_separator:EWP.settings[t].decimal_separator,thousands_separator:EWP.settings[t].thousands_separator};if(a===c)var s=EWP.settings[t].prefix+nummy(a).format(o,n)+EWP.settings[t].suffix;else s=EWP.settings[t].prefix+nummy(a).format(o,n)+EWP.settings[t].suffix+" &mdash; "+EWP.settings[t].prefix+nummy(c).format(o,n)+EWP.settings[t].suffix;e.find(".eboywp-slider-label").html(s)}),wp.hooks.addFilter("eboywp/selections/slider",function(e,t){return t.el.find(".eboywp-slider-label").text()}),t(document).on("eboywp-loaded",function(){t(".eboywp-slider:not(.ready)").each(function(){var e=t(this).closest(".eboywp-facet"),a=e.attr("data-name"),c=EWP.settings[a];if(!1!==EWP.helper.get_url_var(a)&&(EWP.frozen_facets[a]="hard"),void 0===t(this).data("options")&&null!==EWP.settings[a].start[0]){if(parseFloat(c.range.min)>=parseFloat(c.range.max))return EWP.settings[a].lower=c.range.min,EWP.settings[a].upper=c.range.max,void wp.hooks.doAction("eboywp/set_label/slider",e);var o=wp.hooks.applyFilters("eboywp/set_options/slider",{range:c.range,start:c.start,step:parseFloat(c.step),connect:!0},{facet_name:a}),n=t(this)[0];noUiSlider.create(n,o),n.noUiSlider.on("update",function(t,c){EWP.settings[a].lower=t[0],EWP.settings[a].upper=t[1],wp.hooks.doAction("eboywp/set_label/slider",e)}),n.noUiSlider.on("set",function(){EWP.frozen_facets[a]="hard",EWP.autoload()}),t(this).addClass("ready")}}),t(".eboywp-type-slider").each(function(){var e=t(this).attr("data-name"),a=t(this).find(".eboywp-slider-reset");t.isEmptyObject(EWP.facets[e])?a.hide():a.show()})}),t(document).on("click",".eboywp-slider-reset",function(){var e=t(this).closest(".eboywp-facet").attr("data-name");EWP.reset(e)})}();
