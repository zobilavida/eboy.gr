jQuery(document).ready(function(e){function i(e,i){var a=e.closest("form").find(".wc-bookings-booking-form-button");if(void 0!==i){var o=e.find('[data-value="'+i+'"]');void 0!==o.data("value")?(e.closest("div").find("input").val(i).change(),e.closest("ul").find("a").removeClass("selected"),o.addClass("selected"),a.removeClass("disabled")):a.addClass("disabled")}else a.addClass("disabled")}function a(a){var s=e(a).closest("form"),n=e(a).closest("div").find("fieldset"),d=e(a).closest("div").find(".block-picker"),c=d.find(".selected"),l=parseInt(n.find("input.booking_date_year").val(),10),r=parseInt(n.find("input.booking_date_month").val(),10),f=parseInt(n.find("input.booking_date_day").val(),10);l&&r&&f&&(d.closest("div").find("input").val("").change(),d.closest("div").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}).show(),t&&t.abort(),t=e.ajax({type:"POST",url:booking_form_params.ajax_url,data:{action:"wc_bookings_get_blocks",form:s.serialize()},success:function(e){d.html(e),o(),d.closest("div").unblock(),i(d,c.data("value"))},dataType:"html"}))}function o(){var i=0,a=0;e(".block-picker a").each(function(){var o=e(this).width(),t=e(this).height();o>i&&(i=o),t>a&&(a=t)}),e(".block-picker a").width(i),e(".block-picker a").height(a)}e(".block-picker").on("click","a",function(){var a=e(this).data("value");return i(e(this).closest("ul"),a),!1}),e("#wc_bookings_field_resource, #wc_bookings_field_duration").change(function(){a(this)}),e(".wc-bookings-booking-form fieldset").on("date-selected",function(){a(this)});var t});
